<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<dialogueNodes>

	<!-- Sterope content: -->
	
	<scene id="first_meeting">
		<preParsingEffects><![CDATA[
			[#game.addNPC('misc.GenericSexualPartner', 'centaur')]
			[#sterope.initCentaur(centaur)]
			[#flags.setFlag(FLAG_innoxia_sterope_with_centaur, true)]
			[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE'))]
			[#flags.setFlag(FLAG_innoxia_sterope_met_in_tavern, true)]
		]]></preParsingEffects>
		<content/>
		<secondsPassed><![CDATA[120]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses copyFromDialogueId="innoxia_places_fields_elis_tavern_taur_sterope_start"/>
	</scene>
	
	<scene id="start">
		<preParsingEffects><![CDATA[
			[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE'))]
			[#flags.setFlag(FLAG_innoxia_sterope_met_in_tavern, true)]
		]]></preParsingEffects>
		<content/>
		<secondsPassed><![CDATA[120]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[0]]></index>
				<responseTitle><![CDATA[Leave]]></responseTitle>
				<responseTooltip><![CDATA[Tell Sterope that you're going to find someone else to be with tonight.]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_taur_core_tables</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_LEAVE'))]
					#IF(flags.hasFlag(FLAG_innoxia_sterope_with_centaur))
						[#sterope.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_taur, PLACE_TYPE_innoxia_fields_elis_tavern_taur_stable)]
						[#centaur.setLocation(sterope)]
					#ENDIF
				]]></effects>
			</response>
			<!-- Centaur present: -->
			<response>
				<availabilityConditional><![CDATA[[#flags.hasFlag(FLAG_innoxia_sterope_with_centaur)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<colour><![CDATA[GENERIC_SEX_AS_DOM]]></colour>
				<responseTitle><![CDATA[Claim Sterope]]></responseTitle>
				<responseTooltip><![CDATA[Tell [centaur.name] that Sterope is yours tonight.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_claimed</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CLAIMED'))]
					#IF(flags.hasFlag(FLAG_innoxia_sterope_with_centaur))
						[#game.banishNPC(centaur)]
						[#flags.setFlag(FLAG_innoxia_sterope_with_centaur, false)]
					#ENDIF
				]]></effects>
				<requiredFetishes>
					<fetish><![CDATA[FETISH_DOMINANT]]></fetish>
					<fetish><![CDATA[FETISH_SADIST]]></fetish>
				</requiredFetishes>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#flags.hasFlag(FLAG_innoxia_sterope_with_centaur)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<colour><![CDATA[GENERIC_SEX]]></colour>
				<responseTitle><![CDATA[Submit]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(!pc.isAbleToAccessCoverableArea(CA_MOUTH, true) && (!pc.hasVagina() || !pc.isAbleToAccessCoverableArea(CA_VAGINA, true)) && (!game.isAnalContentEnabled() || !pc.isAbleToAccessCoverableArea(CA_ANUS, true)))
						#IF(game.isAnalContentEnabled())
							You need to be able to access your mouth, have a vagina and to be able to access it, or to be able to access your asshole, in order to do this...
						#ELSE
							You need to be able to access your mouth, or have a vagina and to be able to access it, in order to do this...
						#ENDIF
					#ELSE
						Submit to [centaur.name] and tell [centaur.herHim] that you're a worthless slut like Sterope.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(!pc.isAbleToAccessCoverableArea(CA_MOUTH, true) && (!pc.hasVagina() || !pc.isAbleToAccessCoverableArea(CA_VAGINA, true)) && (!game.isAnalContentEnabled() || !pc.isAbleToAccessCoverableArea(CA_ANUS, true)))
						null
					#ELSE
						innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT'))]
				]]></effects>
				<requiredFetishes>
					<fetish><![CDATA[FETISH_MASOCHIST]]></fetish>
				</requiredFetishes>
			</response>
			<!-- Centaur not present: -->
			<response>
				<availabilityConditional><![CDATA[[#!flags.hasFlag(FLAG_innoxia_sterope_with_centaur)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<colour><![CDATA[GENERIC_SEX_AS_DOM]]></colour>
				<responseTitle><![CDATA[Claim her]]></responseTitle>
				<responseTooltip><![CDATA[Tell Sterope that she's yours tonight.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_claimed</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CLAIMED'))]
				]]></effects>
				<requiredFetishes>
					<fetish><![CDATA[FETISH_DOMINANT]]></fetish>
					<fetish><![CDATA[FETISH_SADIST]]></fetish>
				</requiredFetishes>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!flags.hasFlag(FLAG_innoxia_sterope_with_centaur)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Attract a taur]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(!pc.isAbleToAccessCoverableArea(CA_MOUTH, true) && (!pc.hasVagina() || !pc.isAbleToAccessCoverableArea(CA_VAGINA, true)) && (!game.isAnalContentEnabled() || !pc.isAbleToAccessCoverableArea(CA_ANUS, true)))
						#IF(game.isAnalContentEnabled())
							You need to be able to access your mouth, have a vagina and to be able to access it, or to be able to access your asshole, in order to do this...
						#ELSE
							You need to be able to access your mouth, or have a vagina and to be able to access it, in order to do this...
						#ENDIF
					#ELSE
						Tell Sterope that you want to join her in a threesome and submit to a taur.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(!pc.isAbleToAccessCoverableArea(CA_MOUTH, true) && (!pc.hasVagina() || !pc.isAbleToAccessCoverableArea(CA_VAGINA, true)) && (!game.isAnalContentEnabled() || !pc.isAbleToAccessCoverableArea(CA_ANUS, true)))
						null
					#ELSE
						innoxia_places_fields_elis_tavern_taur_sterope_attract_taur_start
					#ENDIF
				]]></nextDialogue>
				<requiredFetishes>
					<fetish><![CDATA[FETISH_MASOCHIST]]></fetish>
				</requiredFetishes>
				<effects><![CDATA[
					[#flags.setFlag(FLAG_innoxia_sterope_searching_for_taur, true)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="attract_taur_start">
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_ATTRACT_TAUR_START</content>
		<secondsPassed minutes="true"><![CDATA[20]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<colour><![CDATA[GENERIC_SEX]]></colour>
				<responseTitle><![CDATA[Find taur]]></responseTitle>
				<responseTooltip><![CDATA[Look around the tavern for a mean-looking taur.]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_attract_taur1]]></nextDialogue>
				<effects><![CDATA[
					[#pc.walkPathNoEffects(game.getWorlds().get(WORLD_TYPE_innoxia_fields_elis_tavern_taur).getRandomUnoccupiedCell(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables).getLocation(), false, 1)]
					[#game.addNPC('misc.GenericSexualPartner', 'centaur_potential1')]
					[#sterope.initCentaur(centaur_potential1)]
					[#centaur_potential1.setLocation(pc, true)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="attract_taur1">
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_ATTRACT_TAUR1</content>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[
					[centaur_potential1.Race(true)]
				]]></responseTitle>
				<responseTooltip><![CDATA[Lead the [centaur_potential1.femininity(true)] [centaur_potential1.race(true)] back to Sterope and get [centaur_potential1.herHim] to dominantly fuck the two of you.]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit]]></nextDialogue>
				<effects><![CDATA[
					[#game.setParserTarget('centaur', centaur_potential1)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_ATTRACT_TAUR_SUBMIT'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Keep looking]]></responseTitle>
				<responseTooltip><![CDATA[See if you can find another taur...]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_attract_taur2]]></nextDialogue>
				<effects><![CDATA[
					[#pc.walkPathNoEffects(game.getWorlds().get(WORLD_TYPE_innoxia_fields_elis_tavern_taur).getRandomUnoccupiedCell(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables).getLocation(), false, 1)]
				
					[#game.addNPC('misc.GenericSexualPartner', 'centaur_potential2')]
					[#sterope.initCentaur(centaur_potential2)]
					[#centaur_potential2.setLocation(pc, true)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="attract_taur2">
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_ATTRACT_TAUR2</content>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[
					[centaur_potential1.Race(true)]
				]]></responseTitle>
				<responseTooltip><![CDATA[Lead the [centaur_potential1.femininity(true)] [centaur_potential1.race(true)] back to Sterope and get [centaur_potential1.herHim] to dominantly fuck the two of you.]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit]]></nextDialogue>
				<effects><![CDATA[
					[#game.banishNPC(centaur_potential2)]
					[#game.setParserTarget('centaur', centaur_potential1)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_ATTRACT_TAUR_SUBMIT'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[
					[centaur_potential2.Race(true)]
				]]></responseTitle>
				<responseTooltip><![CDATA[Lead the [centaur_potential2.femininity(true)] [centaur_potential2.race(true)] back to Sterope and get [centaur_potential2.herHim] to dominantly fuck the two of you.]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit]]></nextDialogue>
				<effects><![CDATA[
					[#game.banishNPC(centaur_potential1)]
					[#game.setParserTarget('centaur', centaur_potential2)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_ATTRACT_TAUR_SUBMIT'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[Keep looking]]></responseTitle>
				<responseTooltip><![CDATA[See if you can find another taur...]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_attract_taur3]]></nextDialogue>
				<effects><![CDATA[
					[#pc.walkPathNoEffects(game.getWorlds().get(WORLD_TYPE_innoxia_fields_elis_tavern_taur).getRandomUnoccupiedCell(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables).getLocation(), false, 1)]
					[#game.addNPC('misc.GenericSexualPartner', 'centaur_potential3')]
					[#sterope.initCentaur(centaur_potential3)]
					[#centaur_potential3.setLocation(pc, true)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="attract_taur3">
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_ATTRACT_TAUR3</content>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[
					[centaur_potential1.Race(true)]
				]]></responseTitle>
				<responseTooltip><![CDATA[Lead the [centaur_potential1.femininity(true)] [centaur_potential1.race(true)] back to Sterope and get [centaur_potential1.herHim] to dominantly fuck the two of you.]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit]]></nextDialogue>
				<effects><![CDATA[
					[#game.banishNPC(centaur_potential2)]
					[#game.banishNPC(centaur_potential3)]
					[#game.setParserTarget('centaur', centaur_potential1)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_ATTRACT_TAUR_SUBMIT'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[
					[centaur_potential2.Race(true)]
				]]></responseTitle>
				<responseTooltip><![CDATA[Lead the [centaur_potential2.femininity(true)] [centaur_potential2.race(true)] back to Sterope and get [centaur_potential2.herHim] to dominantly fuck the two of you.]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit]]></nextDialogue>
				<effects><![CDATA[
					[#game.banishNPC(centaur_potential1)]
					[#game.banishNPC(centaur_potential3)]
					[#game.setParserTarget('centaur', centaur_potential2)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_ATTRACT_TAUR_SUBMIT'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[
					[centaur_potential3.Race(true)]
				]]></responseTitle>
				<responseTooltip><![CDATA[Lead the [centaur_potential3.femininity(true)] [centaur_potential3.race(true)] back to Sterope and get [centaur_potential3.herHim] to dominantly fuck the two of you.]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit]]></nextDialogue>
				<effects><![CDATA[
					[#game.banishNPC(centaur_potential1)]
					[#game.banishNPC(centaur_potential2)]
					[#game.setParserTarget('centaur', centaur_potential3)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_ATTRACT_TAUR_SUBMIT'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Give up]]></responseTitle>
				<responseTooltip><![CDATA[Return to Sterope and say that you couldn't find a suitable taur...]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_taur_core_tables</nextDialogue>
				<effects><![CDATA[
					[#game.banishNPC(centaur_potential1)]
					[#game.banishNPC(centaur_potential2)]
					[#game.banishNPC(centaur_potential3)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_ATTRACT_TAUR_GIVE_UP'))]
					[#pc.setLocation(sterope)]
					[#flags.setFlag(FLAG_innoxia_sterope_searching_for_taur, false)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="claimed">
		<content/>
		<secondsPassed><![CDATA[120]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<colour><![CDATA[GENERIC_SEX_AS_DOM]]></colour>
				<responseTitle><![CDATA[Stable]]></responseTitle>
				<responseTooltip><![CDATA[Lead Sterope to the stable and get ready for some kinky sex.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_stables</nextDialogue>
				<effects><![CDATA[
					[#pc.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_taur, PLACE_TYPE_innoxia_fields_elis_tavern_taur_stable)]
					[#sterope.setLocation(pc)]
					[#flags.setFlag(FLAG_innoxia_sterope_sex, true)]
					[#sterope.stripForStables()]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="stables">
		<preParsingEffects><![CDATA[
			[#sterope.stripForStables()]
		]]></preParsingEffects>
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_STABLES</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Tie her up]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(sterope.getRaceStage()!=RACE_STAGE_GREATER)
						Tell Sterope not to drink the transformative potion, before tying her up and bending her over the table.
					#ELSEIF(sterope.getRaceStage()==RACE_STAGE_GREATER && (flags.hasFlag(FLAG_innoxia_sterope_fully_furry) && game.isFeralContentEnabled()))
						Tell Sterope not to transform into a feral mare, before tying her up and bending her over the table.
					#ELSE
						Tie Sterope up and bend her over the table.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_stables_core</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_TIE_UP'))]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_TIE_UP_END'))]
				]]></effects>
			</response>
			<!-- TF into greater horse-girl: -->
			<response>
				<availabilityConditional><![CDATA[[#sterope.getRaceStage()!=RACE_STAGE_GREATER]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<colour><![CDATA[TRANSFORMATION_GENERIC]]></colour>
				<responseTitle><![CDATA[TF & tie up]]></responseTitle>
				<responseTooltip><![CDATA[Get Sterope to drink the transformation potion and then tie her up and bend her over the table.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_stables_core</nextDialogue>
				<effects><![CDATA[
					[#sterope.applyTransformation()]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_TRANSFORM_TIE_UP'))]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_TIE_UP_END'))]
				]]></effects>
			</response>
			<!-- TF into feral mare: -->
			<response>
				<availabilityConditional><![CDATA[[#flags.hasFlag(FLAG_innoxia_sterope_fully_furry) && game.isFeralContentEnabled()]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<colour><![CDATA[RACE_BESTIAL]]></colour>
				<responseTitle><![CDATA[Mare TF]]></responseTitle>
				<responseTooltip><![CDATA[Get Sterope to touch the beast stone for fifteen minutes, which should be enough to transform her into a feral mare until morning.]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_stables_core]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_TRANSFORM_FERAL'))]
					[#sterope.unequipAllClothingIntoVoid(true, true)]
					[#sterope.setFeral(SUBSPECIES_HORSE_MORPH)]
					[#flags.setFlag(FLAG_innoxia_sterope_transformed_into_feral, true)]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#flags.hasFlag(FLAG_innoxia_sterope_fully_furry) && game.isFeralContentEnabled()]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<colour><![CDATA[RACE_BESTIAL]]></colour>
				<responseTitle><![CDATA[Feral TF (both)]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(pc.getTrueRace()!=RACE_HORSE_MORPH && !pc.isAbleToHaveRaceTransformed())
						As you're unable to have your race transformed, you cannot transform into a feral #IF(pc.isFeminine())mare#ELSEstallion#ENDIF...
					#ELSE
						Get Sterope to touch the beast stone for fifteen minutes, which should be enough to transform her into a feral mare until morning.
						#IF(pc.getTrueRace()!=RACE_HORSE_MORPH)
							 As you're not a horse-morph, you'll first drink a transformative potion to turn into one, and then you'll touch the stone so that you transform into a feral #IF(pc.isFeminine())mare#ELSEstallion#ENDIF for the same duration.
						#ELSE
							 Join her in touching the stone so that you transform into a feral #IF(pc.isFeminine())mare#ELSEstallion#ENDIF for the same duration.
						#ENDIF
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(pc.getTrueRace()!=RACE_HORSE_MORPH && !pc.isAbleToHaveRaceTransformed())
						null
					#ELSE
						innoxia_places_fields_elis_tavern_taur_sterope_stables_feral
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_TRANSFORM_FERAL_BOTH'))]
					[#sterope.unequipAllClothingIntoVoid(true, true)]
					[#sterope.setFeral(SUBSPECIES_HORSE_MORPH)]
					#IF(pc.getTrueRace()!=RACE_HORSE_MORPH)
						[#sterope.applyPlayerTransformation()]
					#ENDIF
					[#pc.unequipAllClothingIntoHoldingInventory(pc, true, true)]
					#IF(!pc.hasPenisIgnoreDildo())
						[#pc.setPenisType(PENIS_TYPE_EQUINE)]
					#ENDIF
					[#pc.setFeral(SUBSPECIES_HORSE_MORPH)]
					[#flags.setFlag(FLAG_innoxia_sterope_transformed_into_feral, true)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="stables_core">
		<content/>
		<!-- Don't let time progress past 04:00 doing this, otherwise it can mess up Sterope's scheduling -->
		<secondsPassed minutes="true"><![CDATA[
			#IF(game.isHourBetween(4, 8))
				0
			#ELSE
				5
			#ENDIF
		]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<!-- Punishments: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Spanking]]></responseTitle>
				<responseTooltip><![CDATA[Give Sterope a good, hard spanking.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_stables_core</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_SPANKING'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Whipping]]></responseTitle>
				<responseTooltip><![CDATA[Use the riding crop to give Sterope a thorough whipping.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_stables_core</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_WHIPPING'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[Degrading talk]]></responseTitle>
				<responseTooltip><![CDATA[Tell Sterope what a worthless cunt she is.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_stables_core</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_DEGRADING'))]
				]]></effects>
			</response>
			<!-- Sex: -->
			<response>
				<availabilityConditional><![CDATA[[#!sterope.isFeral()]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Fuck her]]></responseTitle>
				<responseTooltip><![CDATA[
					[pc.Step] up behind Sterope and get ready to fuck her...
					<br/>[style.italicsMinorBad(This BDSM scene will end after sex, so make sure to punish Sterope as much as you want before doing this!)]
				]]></responseTooltip>
				<nextDialogue/>
				<effects/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_elis_tavern_taur_sterope]]></id>
					<startingPosition><![CDATA[OVER_DESK]]></startingPosition>
					<dominants>
						<character>
							<id>pc</id>
							<slot><![CDATA[OVER_DESK_BETWEEN_LEGS]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>sterope</id>
							<slot><![CDATA[OVER_DESK_OVER_DESK_ON_FRONT]]></slot>
						</character>
					</submissives>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_after_sex]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_SEX_START</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#sterope.isFeral()]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Fuck her]]></responseTitle>
				<responseTooltip><![CDATA[
					[pc.Step] up behind Sterope and get ready to fuck her...
					<br/>[style.italicsMinorBad(This BDSM scene will end after sex, so make sure to punish Sterope as much as you want before doing this!)]
				]]></responseTooltip>
				<nextDialogue/>
				<effects/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_elis_tavern_taur_sterope_feral]]></id>
					<startingPosition><![CDATA[ALL_FOURS]]></startingPosition>
					<dominants>
						<character>
							<id>pc</id>
							<slot><![CDATA[ALL_FOURS_BEHIND]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>sterope</id>
							<slot><![CDATA[ALL_FOURS_ALL_FOURS]]></slot>
						</character>
					</submissives>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_after_sex]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_SEX_START</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
			<!-- Clothing: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[6]]></index>
				<responseTitle><![CDATA[Nipple clamps]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(sterope.getClothingInSlot(IS_NIPPLE)!=null)
						Sterope is already wearing nipple clamps!
					#ELSE
						Tease and pinch Sterope's nipples, before attaching nipple clamps to them.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(sterope.getClothingInSlot(IS_NIPPLE)!=null)
						null
					#ELSE
						innoxia_places_fields_elis_tavern_taur_sterope_stables_core
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_CLOTHING_NIPPLE_CLAMPS'))]
					[#sterope.wearNippleClamps()]
				]]></effects>
			</response>
			<!-- Feral variation is 'tack': -->
				<response>
					<availabilityConditional><![CDATA[[#sterope.isFeral()]]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[7]]></index>
					<responseTitle><![CDATA[Tack]]></responseTitle>
					<responseTooltip><![CDATA[
						#IF(sterope.getClothingInSlot(IS_MOUTH)!=null)
							You've already tacked up Sterope!
						#ELSE
							Tack up Sterope by equipping her with a bridle, saddle, and tail wrap.
						#ENDIF
					]]></responseTooltip>
					<nextDialogue><![CDATA[
						#IF(sterope.getClothingInSlot(IS_MOUTH)!=null)
							null
						#ELSE
							innoxia_places_fields_elis_tavern_taur_sterope_stables_core
						#ENDIF
					]]></nextDialogue>
					<effects><![CDATA[
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_CLOTHING_TACKED_UP'))]
						[#sterope.applyTack(pc, sterope)]
					]]></effects>
				</response>
				<response>
					<availabilityConditional><![CDATA[[#!sterope.isFeral()]]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[7]]></index>
					<responseTitle><![CDATA[Ring gag]]></responseTitle>
					<responseTooltip><![CDATA[
						#IF(sterope.getClothingInSlot(IS_MOUTH)!=null)
							Sterope is already wearing a ring gag!
						#ELSE
							Make Sterope open her mouth, before forcing her to wear a ring gag.
						#ENDIF
					]]></responseTooltip>
					<nextDialogue><![CDATA[
						#IF(sterope.getClothingInSlot(IS_MOUTH)!=null)
							null
						#ELSE
							innoxia_places_fields_elis_tavern_taur_sterope_stables_core
						#ENDIF
					]]></nextDialogue>
					<effects><![CDATA[
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_CLOTHING_RING_GAG'))]
						[#sterope.wearRingGag()]
					]]></effects>
				</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[8]]></index>
				<responseTitle><![CDATA[Blindfold]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(sterope.getClothingInSlot(IS_EYES)!=null)
						Sterope is already wearing a blindfold!
					#ELSE
						Put a blindfold on Sterope so that she can't see what's happening.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(sterope.getClothingInSlot(IS_EYES)!=null)
						null
					#ELSE
						innoxia_places_fields_elis_tavern_taur_sterope_stables_core
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_CLOTHING_BLINDFOLD'))]
					[#sterope.wearBlindfold()]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[9]]></index>
				<responseTitle><![CDATA[Dildo]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(sterope.getClothingInSlot(IS_VAGINA)!=null)
						Sterope already has a dildo shoved deep in her cunt!
					#ELSE
						Use the dildo to fuck Sterope's cunt, making her orgasm before hilting it deep in her pussy.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(sterope.getClothingInSlot(IS_VAGINA)!=null)
						null
					#ELSE
						innoxia_places_fields_elis_tavern_taur_sterope_stables_core
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_CLOTHING_DILDO'))]
					[#sterope.wearDildo()]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#game.isAnalContentEnabled()]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[10]]></index>
				<responseTitle><![CDATA[Anal beads]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(sterope.getClothingInSlot(IS_ANUS)!=null)
						Sterope's ass is already full of anal beads!
					#ELSE
						Tease Sterope's asshole, before shoving the anal beads inside of her.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(sterope.getClothingInSlot(IS_ANUS)!=null)
						null
					#ELSE
						innoxia_places_fields_elis_tavern_taur_sterope_stables_core
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_STABLES_CLOTHING_ANAL_BEADS'))]
					[#sterope.wearAnalBeads()]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="stables_feral">
		<content/>
		<secondsPassed minutes="true"><![CDATA[20]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Fuck her]]></responseTitle>
				<responseTooltip><![CDATA[
					[pc.Step] up behind Sterope and get ready to fuck her...
				]]></responseTooltip>
				<nextDialogue/>
				<effects/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_elis_tavern_taur_sterope_feral]]></id>
					<startingPosition><![CDATA[ALL_FOURS]]></startingPosition>
					<dominants>
						<character>
							<id>pc</id>
							<slot><![CDATA[ALL_FOURS_BEHIND]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>sterope</id>
							<slot><![CDATA[ALL_FOURS_ALL_FOURS]]></slot>
						</character>
					</submissives>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_after_sex]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_FERAL_SEX_START</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
		</responses>
	</scene>
	
	<scene id="after_sex">
		<preParsingEffects/>
		<title><![CDATA[Finished]]></title>
		<tooltip><![CDATA[Having had your fun with Sterope, it's time to bring an end to the sex...]]></tooltip>
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_AFTER_SEX</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Join her]]></responseTitle>
				<responseTooltip><![CDATA[Join Sterope in the shower and get clean.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_after_sex_shower</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_AFTER_SEX_SHOWER'))]
					[#sterope.applyPostSexCleaning(true)]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Decline]]></responseTitle>
				<responseTooltip><![CDATA[Tell Sterope that you don't need a shower.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_after_sex_shower</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_AFTER_SEX_SHOWER_DECLINED'))]
					[#sterope.applyPostSexCleaning(false)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="after_sex_shower">
		<preParsingEffects><![CDATA[
			[#game.addSpecialParsingString(ITEM_EFFECT_TYPE_PREGNANCY_TEST.applyEffect(null, null, null, 0, sterope, sterope, null), true)]
		]]></preParsingEffects>
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_AFTER_SEX_SHOWER_END</content>
		<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<!-- Feral: -->
				<response>
					<availabilityConditional><![CDATA[[#pc.isFeral()]]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[1]]></index>
					<secondsPassed minutes="true"><![CDATA[30]]></secondsPassed>
					<responseTitle><![CDATA[Wait]]></responseTitle>
					<responseTooltip><![CDATA[Wait here in the stables for your feral transformation to end.]]></responseTooltip>
					<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_ending_no_content</nextDialogue>
					<effects><![CDATA[
						[#sterope.setLocation(WORLD_TYPE_EMPTY, PLACE_TYPE_GENERIC_HOLDING_CELL)]
						[#pc.setNearestLocation(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables)]
						[#sterope.setFeral(null)]
						[#sterope.resetToStartingBody()]
						[#sterope.equipClothing()]
						[#pc.setFeral(null)]
						[#pc.equipAllClothingFromHoldingInventory()]
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_AFTER_SEX_FERAL_LEAVE'))]
					]]></effects>
				</response>
			
			<!-- Non-feral: -->
				<!-- Sterope has been transformed: -->
				<response>
					<availabilityConditional><![CDATA[[#!pc.isFeral() && sterope.getRaceStage()==RACE_STAGE_GREATER && !flags.hasFlag(FLAG_innoxia_sterope_fully_furry)]]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[1]]></index>
					<responseTitle><![CDATA[Say goodbye]]></responseTitle>
					<responseTooltip><![CDATA[Say goodbye to Sterope and return to the tavern.]]></responseTooltip>
					<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_ending_no_content</nextDialogue>
					<effects><![CDATA[
						[#sterope.resetToStartingBody()]
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_AFTER_SEX_LEAVE'))]
						[#sterope.setLocation(WORLD_TYPE_EMPTY, PLACE_TYPE_GENERIC_HOLDING_CELL)]
						[#sterope.equipClothing()]
						[#pc.setNearestLocation(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables)]
					]]></effects>
				</response>
				<response>
					<availabilityConditional><![CDATA[[#!pc.isFeral() && sterope.getRaceStage()==RACE_STAGE_GREATER && !flags.hasFlag(FLAG_innoxia_sterope_fully_furry)]]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[2]]></index>
					<colour><![CDATA[TRANSFORMATION_GENERIC]]></colour>
					<responseTitle><![CDATA[Stay transformed]]></responseTitle>
					<responseTooltip><![CDATA[Tell Sterope not to transform back to her previous form, and to instead remain as a fully furry horse-girl.]]></responseTooltip>
					<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_ending_no_content</nextDialogue>
					<effects><![CDATA[
						[#flags.setFlag(FLAG_innoxia_sterope_fully_furry, true)]
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_AFTER_SEX_LEAVE_STAY_TRANSFORMED'))]
						[#sterope.setLocation(WORLD_TYPE_EMPTY, PLACE_TYPE_GENERIC_HOLDING_CELL)]
						[#sterope.equipClothing()]
						[#pc.setNearestLocation(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables)]
					]]></effects>
				</response>
				<!-- No TF actions: -->
				<response>
					<availabilityConditional><![CDATA[[#!pc.isFeral() && (sterope.getRaceStage()!=RACE_STAGE_GREATER || flags.hasFlag(FLAG_innoxia_sterope_fully_furry))]]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[1]]></index>
					<responseTitle><![CDATA[Say goodbye]]></responseTitle>
					<responseTooltip><![CDATA[Say goodbye to Sterope and return to the tavern.]]></responseTooltip>
					<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_ending_no_content</nextDialogue>
					<effects><![CDATA[
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_AFTER_SEX_LEAVE_NO_TF_OPTION'))]
						[#sterope.setLocation(WORLD_TYPE_EMPTY, PLACE_TYPE_GENERIC_HOLDING_CELL)]
						[#sterope.equipClothing()]
						[#pc.setNearestLocation(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables)]
					]]></effects>
				</response>
		</responses>
	</scene>
	
	<scene id="ending_no_content">
		<preParsingEffects/>
		<content/>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Continue]]></responseTitle>
				<responseTooltip><![CDATA[Continue on your way through the tavern...]]></responseTooltip>
				<nextDialogue defaultPlaceType="innoxia_fields_elis_tavern_taur_tables"/>
				<effects/>
			</response>
		</responses>
	</scene>
	
	<!-- Sterope threesome with centaur: -->
	
	<scene id="centaur_submit">
		<preParsingEffects><![CDATA[
			[#flags.setFlag(FLAG_innoxia_sterope_with_centaur, true)]
			[#pc.setLocation(sterope)]
			[#centaur.setLocation(sterope, true)]
			[#flags.setFlag(FLAG_innoxia_sterope_searching_for_taur, false)]
		]]></preParsingEffects>
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_SUBMIT_END</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Stable]]></responseTitle>
				<responseTooltip><![CDATA[Allow the [centaur.race] to lead you and Sterope to the stable and get ready for some kinky sex.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit_stables</nextDialogue>
				<effects><![CDATA[
					[#pc.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_taur, PLACE_TYPE_innoxia_fields_elis_tavern_taur_stable)]
					[#sterope.setLocation(pc)]
					[#centaur.setLocation(pc)]
					[#flags.setFlag(FLAG_innoxia_sterope_sex, true)]
					[#flags.setFlag(FLAG_innoxia_sterope_had_centaur_threesome, true)]
					[#sterope.stripForStables()]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="centaur_submit_stables">
		<preParsingEffects><![CDATA[
			[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES'))]
			#IF(sterope.getRaceStage()!=RACE_STAGE_GREATER)
				[#sterope.applyTransformation()]
				[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES_TRANSFORM'))]
			#ENDIF
			[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES_END'))]
			[#game.getDialogueFlags().setSavedLong('sterope_centaur_punishments', 0)]
			[#sterope.initCentaurPunishments()]
		]]></preParsingEffects>
		<content/>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[
					#IF((flags.hasFlag(FLAG_innoxia_sterope_fully_furry) && game.isFeralContentEnabled() && (pc.getTrueRace()==RACE_HORSE_MORPH || pc.isAbleToHaveRaceTransformed())) || (pc.getTrueRace()!=RACE_HORSE_MORPH && pc.isAbleToHaveRaceTransformed()))
						Refuse TF
					#ELSE
						Tied up
					#ENDIF
				]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF((flags.hasFlag(FLAG_innoxia_sterope_fully_furry) && game.isFeralContentEnabled() && (pc.getTrueRace()==RACE_HORSE_MORPH || pc.isAbleToHaveRaceTransformed())) || (pc.getTrueRace()!=RACE_HORSE_MORPH && pc.isAbleToHaveRaceTransformed()))
						Don't drink the transformation potion and instead simply submit to be tied up so that you're bent over the table.
					#ELSE
						Submit and allow yourself to be tied up so that you're bent over the table.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit_stables_core]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES_NO_TF'))]
					[#pc.unequipAllClothingIntoHoldingInventory(pc, true, false)]
				]]></effects>
			</response>
			<!-- TF into greater horse-girl: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<colour><![CDATA[TRANSFORMATION_GENERIC]]></colour>
				<responseTitle><![CDATA[Drink potion]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(pc.getTrueRace()!=RACE_HORSE_MORPH && pc.isAbleToHaveRaceTransformed())
						#IF(flags.hasFlag(FLAG_innoxia_sterope_fully_furry) && game.isFeralContentEnabled())
							Refuse to transform into a feral mare, but agree to drink the transformation potion and turn into a greater horse-girl.
						#ELSE
							Drink the transformation potion, turning you into a greater horse-girl.
						#ENDIF
					#ELSEIF(pc.getTrueRace()==RACE_HORSE_MORPH)
						As you are already a [pc.race], there's no need for you to drink the transformative potion.
					#ELSE
						As you cannot have your race transformed, the potion is useless.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(pc.getTrueRace()!=RACE_HORSE_MORPH && pc.isAbleToHaveRaceTransformed())
						innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit_stables_core
					#ELSE
						null
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES_TF'))]
					[#sterope.applyPlayerTransformation()]
					[#pc.unequipAllClothingIntoHoldingInventory(pc, true, false)]
				]]></effects>
			</response>
			<!-- TF into feral mares: -->
			<response>
				<availabilityConditional><![CDATA[[#(flags.hasFlag(FLAG_innoxia_sterope_fully_furry) && game.isFeralContentEnabled())]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<colour><![CDATA[RACE_BESTIAL]]></colour>
				<responseTitle><![CDATA[Mare TF]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(pc.getTrueRace()!=RACE_HORSE_MORPH && !pc.isAbleToHaveRaceTransformed())
						As you're unable to have your race transformed, you cannot transform into a feral mare...
					#ELSE
						#IF(pc.getTrueRace()!=RACE_HORSE_MORPH)
							 Drink the transformation potion, turning you into a greater horse-girl. Then join Sterope in touching the beast stone for fifteen minutes, which should be enough to transform the two of you into feral mares until morning.
						#ELSE
							 Join Sterope in touching the beast stone for fifteen minutes, which should be enough to transform the two of you into feral mares until morning.
						#ENDIF
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(pc.getTrueRace()!=RACE_HORSE_MORPH && !pc.isAbleToHaveRaceTransformed())
						null
					#ELSE
						innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit_stables_feral
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES_FERAL_TF'))]
					[#sterope.unequipAllClothingIntoVoid(true, true)]
					[#sterope.setFeral(SUBSPECIES_HORSE_MORPH)]
					#IF(pc.getTrueRace()!=RACE_HORSE_MORPH)
						[#sterope.applyPlayerTransformation()]
					#ENDIF
					[#pc.unequipAllClothingIntoHoldingInventory(pc, true, true)]
					[#pc.setFeral(SUBSPECIES_HORSE_MORPH)]
					[#flags.setFlag(FLAG_innoxia_sterope_transformed_into_feral, true)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="centaur_submit_stables_core">
		<content/>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<!-- 3 punishments: -->
			<response>
				<availabilityConditional><![CDATA[[#flags.getSavedLong('sterope_centaur_punishments')<3]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[
					#IF(flags.getSavedLong('sterope_centaur_punishments')==0)
						Punished
					#ELSEIF(flags.getSavedLong('sterope_centaur_punishments')==1)
						Punished again
					#ELSE
						Punishment!
					#ENDIF
				]]></responseTitle>
				<responseTooltip><![CDATA[Tied up and at the mercy of the [centaur.race], all you can do is submit to your punishment.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit_stables_core</nextDialogue>
				<effects><![CDATA[
					#IF(flags.getSavedLong('sterope_centaur_punishments')<2)
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES_PUNISHMENT_'+sterope.getRandomCentaurPunishment()))]
					#ELSE
						#IF(RND.nextInt(100)<50)
							[#flags.setFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first, true)]
						#ELSE
							[#flags.setFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first, false)]
						#ENDIF
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES_PUNISHMENT_END'))]
					#ENDIF
					[#flags.incrementSavedLong('sterope_centaur_punishments', 1)]
				]]></effects>
			</response>
			<!-- Sex: -->
				<!-- Sterope first: -->
				<response>
					<availabilityConditional><![CDATA[[#flags.getSavedLong('sterope_centaur_punishments')>=3 && flags.hasFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first)]]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[1]]></index>
					<responseTitle><![CDATA[Sterope first...]]></responseTitle>
					<responseTooltip><![CDATA[The [centaur.race] decides to rut Sterope first...]]></responseTooltip>
					<nextDialogue/>
					<effects/>
					<sexVariablesWithManager enabled="true">
						<id><![CDATA[innoxia_elis_tavern_taur_sterope_centaur_sterope]]></id>
						<startingPosition><![CDATA[OVER_DESK]]></startingPosition>
						<dominants>
							<character>
								<id>centaur</id>
								<slot><![CDATA[OVER_DESK_BETWEEN_LEGS]]></slot>
							</character>
						</dominants>
						<submissives>
							<character>
								<id>sterope</id>
								<slot><![CDATA[OVER_DESK_OVER_DESK_ON_FRONT]]></slot>
							</character>
						</submissives>
						<dominantSpectators/>
						<submissiveSpectators>
							<character><![CDATA[pc]]></character>
						</submissiveSpectators>
						<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_after_sex]]></postSexDialogue>
						<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_SUBMIT_STABLES_SEX_START_STEROPE</sexStartContent>
						<ongoingActionsAtStart/>
					</sexVariablesWithManager>
				</response>
				<!-- Player first: -->
				<response>
					<availabilityConditional><![CDATA[[#flags.getSavedLong('sterope_centaur_punishments')>=3 && !flags.hasFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first)]]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[1]]></index>
					<responseTitle><![CDATA[You first...]]></responseTitle>
					<responseTooltip><![CDATA[The [centaur.race] decides to rut you first...]]></responseTooltip>
					<nextDialogue/>
					<effects/>
					<sexVariablesWithManager enabled="true">
						<id><![CDATA[innoxia_elis_tavern_taur_sterope_centaur_pc]]></id>
						<startingPosition><![CDATA[OVER_DESK]]></startingPosition>
						<dominants>
							<character>
								<id>centaur</id>
								<slot><![CDATA[
									#IF((!pc.hasVagina() || !pc.isAbleToAccessCoverableArea(CA_VAGINA, true)) && (!game.isAnalContentEnabled() || !pc.isAbleToAccessCoverableArea(CA_ANUS, true)))
										OVER_DESK_RECEIVING_ORAL
									#ELSE
										OVER_DESK_BETWEEN_LEGS
									#ENDIF
								]]></slot>
							</character>
						</dominants>
						<submissives>
							<character>
								<id>pc</id>
								<slot><![CDATA[OVER_DESK_OVER_DESK_ON_FRONT]]></slot>
							</character>
						</submissives>
						<dominantSpectators/>
						<submissiveSpectators>
							<character><![CDATA[sterope]]></character>
						</submissiveSpectators>
						<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_after_sex]]></postSexDialogue>
						<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_SUBMIT_STABLES_SEX_START_PLAYER</sexStartContent>
						<ongoingActionsAtStart/>
					</sexVariablesWithManager>
				</response>
		</responses>
	</scene>
	
	<scene id="centaur_after_sex">
		<title><![CDATA[Finished]]></title>
		<tooltip><![CDATA[The [centaur.race] has had [centaur.her] fun, and so brings an end to the sex...]]></tooltip>
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_AFTER_SEX</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<!-- Sterope first: -->
			<response>
				<availabilityConditional><![CDATA[[#!flags.hasFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Sterope next...]]></responseTitle>
				<responseTooltip><![CDATA[Having had [centaur.her] fun with you, the [centaur.race] moves over to rut Sterope...]]></responseTooltip>
				<nextDialogue/>
				<effects/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_elis_tavern_taur_sterope_centaur_sterope]]></id>
					<startingPosition><![CDATA[OVER_DESK]]></startingPosition>
					<dominants>
						<character>
							<id>centaur</id>
							<slot><![CDATA[OVER_DESK_BETWEEN_LEGS]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>sterope</id>
							<slot><![CDATA[OVER_DESK_OVER_DESK_ON_FRONT]]></slot>
						</character>
					</submissives>
					<dominantSpectators/>
					<submissiveSpectators>
						<character><![CDATA[pc]]></character>
					</submissiveSpectators>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_after_sex_final]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_SUBMIT_STABLES_SEX_START_STEROPE_NEXT</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
			<!-- Player first: -->
			<response>
				<availabilityConditional><![CDATA[[#flags.hasFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[You next...]]></responseTitle>
				<responseTooltip><![CDATA[Having had [centaur.her] fun with Sterope, the [centaur.race] moves over to rut you...]]></responseTooltip>
				<nextDialogue/>
				<effects/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_elis_tavern_taur_sterope_centaur_pc]]></id>
					<startingPosition><![CDATA[OVER_DESK]]></startingPosition>
					<dominants>
						<character>
							<id>centaur</id>
							<slot><![CDATA[
								#IF((!pc.hasVagina() || !pc.isAbleToAccessCoverableArea(CA_VAGINA, true)) && (!game.isAnalContentEnabled() || !pc.isAbleToAccessCoverableArea(CA_ANUS, true)))
									OVER_DESK_RECEIVING_ORAL
								#ELSE
									OVER_DESK_BETWEEN_LEGS
								#ENDIF
							]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>pc</id>
							<slot><![CDATA[OVER_DESK_OVER_DESK_ON_FRONT]]></slot>
						</character>
					</submissives>
					<dominantSpectators/>
					<submissiveSpectators>
						<character><![CDATA[sterope]]></character>
					</submissiveSpectators>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_after_sex_final]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_SUBMIT_STABLES_SEX_START_PLAYER_NEXT</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
		</responses>
	</scene>
	
	<scene id="centaur_after_sex_final">
		<preParsingEffects><![CDATA[
			[#game.addSpecialParsingString(ITEM_EFFECT_TYPE_PREGNANCY_TEST.applyEffect(null, null, null, 0, sterope, sterope, null), true)]
		]]></preParsingEffects>
		<title><![CDATA[Finished]]></title>
		<tooltip><![CDATA[The [centaur.race] has had [centaur.her] fun, and so brings an end to the sex...]]></tooltip>
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_AFTER_SEX_FINAL</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Join her]]></responseTitle>
				<responseTooltip><![CDATA[Join Sterope in the shower and get clean.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_centaur_after_sex_final_shower</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_AFTER_SEX_FINAL_SHOWER'))]
					[#sterope.applyPostSexCleaning(true)]
					[#game.banishNPC(centaur)]
					[#flags.setFlag(FLAG_innoxia_sterope_with_centaur, false)]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Decline]]></responseTitle>
				<responseTooltip><![CDATA[Tell Sterope that you don't need a shower and leave.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_centaur_after_sex_final_shower</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_AFTER_SEX_FINAL_SHOWER_DECLINED'))]
					[#sterope.applyPostSexCleaning(false)]
					[#game.banishNPC(centaur)]
					[#flags.setFlag(FLAG_innoxia_sterope_with_centaur, false)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="centaur_after_sex_final_shower">
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_AFTER_SEX_FINAL_SHOWER_END</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Say goodbye]]></responseTitle>
				<responseTooltip><![CDATA[Say goodbye to Sterope and return to the tavern.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_ending_no_content</nextDialogue>
				<effects><![CDATA[
					[#sterope.resetToStartingBody()]
					[#pc.equipAllClothingFromHoldingInventory()]
					[#sterope.setLocation(WORLD_TYPE_EMPTY, PLACE_TYPE_GENERIC_HOLDING_CELL)]
					[#sterope.equipClothing()]
					[#pc.setNearestLocation(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_AFTER_SEX_FINAL_SHOWER_LEAVE'))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#sterope.getRaceStage()==RACE_STAGE_GREATER && !flags.hasFlag(FLAG_innoxia_sterope_fully_furry)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<colour><![CDATA[TRANSFORMATION_GENERIC]]></colour>
				<responseTitle><![CDATA[Stay transformed]]></responseTitle>
				<responseTooltip><![CDATA[Tell Sterope not to transform back to her previous form, and to instead remain as a fully furry horse-girl.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_ending_no_content</nextDialogue>
				<effects><![CDATA[
					[#flags.setFlag(FLAG_innoxia_sterope_fully_furry, true)]
					[#pc.equipAllClothingFromHoldingInventory()]
					[#sterope.setLocation(WORLD_TYPE_EMPTY, PLACE_TYPE_GENERIC_HOLDING_CELL)]
					[#sterope.equipClothing()]
					[#pc.setNearestLocation(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_AFTER_SEX_FINAL_SHOWER_LEAVE_STAY_TRANSFORMED'))]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<!-- Sterope feral threesome with centaur: -->
	
	<scene id="centaur_submit_stables_feral">
		<content/>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Tied & tacked up]]></responseTitle>
				<responseTooltip><![CDATA[The [centaur.race] puts tack equipment on both you and Sterope.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit_stables_feral_sex</nextDialogue>
				<effects><![CDATA[
					[#sterope.applyTack(centaur, sterope)]
					[#sterope.applyTack(centaur, pc)]
					#IF(RND.nextInt(100)<50)
						[#flags.setFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first, true)]
					#ELSE
						[#flags.setFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first, false)]
					#ENDIF
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_FERAL_SEX'))]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="centaur_submit_stables_feral_sex">
		<content/>
		<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<!-- 3 punishments: -->
			<response>
				<availabilityConditional><![CDATA[[#flags.getSavedLong('sterope_centaur_punishments')<3]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[
					#IF(flags.getSavedLong('sterope_centaur_punishments')==0)
						Punished
					#ELSEIF(flags.getSavedLong('sterope_centaur_punishments')==1)
						Punished again
					#ELSE
						Punishment!
					#ENDIF
				]]></responseTitle>
				<responseTooltip><![CDATA[Tied up and at the mercy of the [centaur.race], all you can do is submit to your punishment.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit_stables_feral_sex</nextDialogue>
				<effects><![CDATA[
					#IF(flags.getSavedLong('sterope_centaur_punishments')<2)
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES_PUNISHMENT_'+sterope.getRandomCentaurPunishment()))]
					#ELSE
						#IF(RND.nextInt(100)<50)
							[#flags.setFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first, true)]
						#ELSE
							[#flags.setFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first, false)]
						#ENDIF
						[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_SUBMIT_STABLES_PUNISHMENT_END'))]
					#ENDIF
					[#flags.incrementSavedLong('sterope_centaur_punishments', 1)]
				]]></effects>
			</response>
			<!-- Sex: -->
			<response>
				<availabilityConditional><![CDATA[[#flags.getSavedLong('sterope_centaur_punishments')>=3 && flags.hasFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Sterope first...]]></responseTitle>
				<responseTooltip><![CDATA[The [centaur.race] decides to rut Sterope first...]]></responseTooltip>
				<nextDialogue/>
				<effects/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_elis_tavern_taur_sterope_centaur_feral_sterope]]></id>
					<startingPosition><![CDATA[ALL_FOURS]]></startingPosition>
					<dominants>
						<character>
							<id>centaur</id>
							<slot><![CDATA[ALL_FOURS_BEHIND]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>sterope</id>
							<slot><![CDATA[ALL_FOURS_ALL_FOURS]]></slot>
						</character>
					</submissives>
					<dominantSpectators/>
					<submissiveSpectators>
						<character><![CDATA[pc]]></character>
					</submissiveSpectators>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit_stables_feral_after_sex]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_FERAL_SEX_START_STEROPE</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
			<!-- Player first: -->
			<response>
				<availabilityConditional><![CDATA[[#flags.getSavedLong('sterope_centaur_punishments')>=3 && !flags.hasFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[You first...]]></responseTitle>
				<responseTooltip><![CDATA[The [centaur.race] decides to rut you first...]]></responseTooltip>
				<nextDialogue/>
				<effects/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_elis_tavern_taur_sterope_centaur_feral_pc]]></id>
					<startingPosition><![CDATA[ALL_FOURS]]></startingPosition>
					<dominants>
						<character>
							<id>centaur</id>
							<slot><![CDATA[ALL_FOURS_BEHIND]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>pc</id>
							<slot><![CDATA[ALL_FOURS_ALL_FOURS]]></slot>
						</character>
					</submissives>
					<dominantSpectators/>
					<submissiveSpectators>
						<character><![CDATA[sterope]]></character>
					</submissiveSpectators>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_submit_stables_feral_after_sex]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_FERAL_SEX_START_PLAYER</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
		</responses>
	</scene>
	
	<scene id="centaur_submit_stables_feral_after_sex">
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_FERAL_AFTER_SEX</content>
		<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<availabilityConditional><![CDATA[[#!flags.hasFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Sterope next...]]></responseTitle>
				<responseTooltip><![CDATA[Having rutted you, the [centaur.race] moves over to fuck Sterope next...]]></responseTooltip>
				<nextDialogue/>
				<effects/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_elis_tavern_taur_sterope_centaur_feral_sterope]]></id>
					<startingPosition><![CDATA[ALL_FOURS]]></startingPosition>
					<dominants>
						<character>
							<id>centaur</id>
							<slot><![CDATA[ALL_FOURS_BEHIND]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>sterope</id>
							<slot><![CDATA[ALL_FOURS_ALL_FOURS]]></slot>
						</character>
					</submissives>
					<dominantSpectators/>
					<submissiveSpectators>
						<character><![CDATA[pc]]></character>
					</submissiveSpectators>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_feral_after_sex_final]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_FERAL_SEX_START_STEROPE_NEXT</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
			<!-- Player first: -->
			<response>
				<availabilityConditional><![CDATA[[#flags.hasFlag(FLAG_innoxia_sterope_centaur_fucks_sterope_first)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[You next...]]></responseTitle>
				<responseTooltip><![CDATA[Having rutted Sterope, the [centaur.race] moves over to fuck you next...]]></responseTooltip>
				<nextDialogue/>
				<effects/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_elis_tavern_taur_sterope_centaur_feral_pc]]></id>
					<startingPosition><![CDATA[ALL_FOURS]]></startingPosition>
					<dominants>
						<character>
							<id>centaur</id>
							<slot><![CDATA[ALL_FOURS_BEHIND]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>pc</id>
							<slot><![CDATA[ALL_FOURS_ALL_FOURS]]></slot>
						</character>
					</submissives>
					<dominantSpectators/>
					<submissiveSpectators>
						<character><![CDATA[sterope]]></character>
					</submissiveSpectators>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_taur_sterope_centaur_feral_after_sex_final]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_FERAL_SEX_START_PLAYER_NEXT</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
		</responses>
	</scene>
	
	<scene id="centaur_feral_after_sex_final">
		<preParsingEffects><![CDATA[
			[#game.addSpecialParsingString(ITEM_EFFECT_TYPE_PREGNANCY_TEST.applyEffect(null, null, null, 0, sterope, sterope, null), true)]
		]]></preParsingEffects>
		<title><![CDATA[Finished]]></title>
		<tooltip><![CDATA[The [centaur.race] has had [centaur.her] fun, and so brings an end to the sex...]]></tooltip>
		<content folderPath="txt/places/fields/elis/tavern_taur">STEROPE_CENTAUR_FERAL_AFTER_SEX_FINAL</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Join her]]></responseTitle>
				<responseTooltip><![CDATA[Join Sterope in the shower and get clean.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_centaur_feral_after_sex_final_shower</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_FERAL_AFTER_SEX_FINAL_SHOWER'))]
					[#sterope.applyPostSexCleaning(true)]
					[#game.banishNPC(centaur)]
					[#flags.setFlag(FLAG_innoxia_sterope_with_centaur, false)]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Decline]]></responseTitle>
				<responseTooltip><![CDATA[Tell Sterope that you don't need a shower.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_centaur_feral_after_sex_final_shower</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_FERAL_AFTER_SEX_FINAL_SHOWER_DECLINED'))]
					[#sterope.applyPostSexCleaning(false)]
					[#game.banishNPC(centaur)]
					[#flags.setFlag(FLAG_innoxia_sterope_with_centaur, false)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="centaur_feral_after_sex_final_shower">
		<content/>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<secondsPassed minutes="true"><![CDATA[30]]></secondsPassed>
				<responseTitle><![CDATA[Wait]]></responseTitle>
				<responseTooltip><![CDATA[Wait here in the stables for your feral transformation to end.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_taur_sterope_ending_no_content</nextDialogue>
				<effects><![CDATA[
					[#sterope.setLocation(WORLD_TYPE_EMPTY, PLACE_TYPE_GENERIC_HOLDING_CELL)]
					[#sterope.setFeral(null)]
					[#sterope.resetToStartingBody()]
					[#sterope.equipClothing()]
					[#pc.unequipAllClothingIntoVoid(true, false)]
					[#pc.setFeral(null)]
					[#pc.equipAllClothingFromHoldingInventory()]
					[#pc.setNearestLocation(PLACE_TYPE_innoxia_fields_elis_tavern_taur_tables)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_taur', 'STEROPE_CENTAUR_FERAL_AFTER_SEX_FINAL_LEAVE'))]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	
</dialogueNodes>
